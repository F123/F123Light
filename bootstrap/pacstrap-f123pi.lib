

usage() {
	echo -e $(gettext "usage_")
} >&2



out() {
	printf "$1 $2\n" "${@:3}"
}

error() {
	out "ERROR:" "$@"
} >&2

die() {
	error "$@"
	usage
	exit 1
}


add_user() {
	local chroot_=$1
	local username=$2

	echo $(eval_gettext "Add user \${username}")
	input="useradd -m -g users -G wheel,storage,power,uucp,audio -s /bin/bash ${username}"
	chroot "${chroot_}" /bin/bash -c "${input}"

} # add_user

set_password() {
	local chroot_=$1
	local username=$2
	local userpwd=$3

	echo $(eval_gettext "Setting password for user \${username}")
	input="echo -e \"${userpwd}\n${userpwd}\n\" | passwd ${username}"
	chroot "${chroot_}" /bin/bash -c "${input}"

} # set_password


manage_service() {
	local chroot_=$1
	local operation=$2
	local service=$3

	echo $(eval_gettext "Calling systemctl to \${operation} \${service} service")
	#input="systemctl ${operation} ${service}"
	#chroot "${chroot_}" /bin/bash -c \"${input}\""
	chroot "${chroot_}" systemctl "${operation}" "${service}"

} # manage_service

 
